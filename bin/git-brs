#!/bin/bash
# vim:tw=0:ts=2:sw=2:et:norl:ft=bash
# Author: Landon Bouma (landonb &#x40; retrosoft &#x2E; com)
# Project: https://github.com/landonb/git-FlU#ðŸŒ¡
# License: MIT. Please find more in the LICENSE file.

git-brs () {
  git --no-pager branch -avv \
    | egrep -v "remotes/travel/" \
    | grep -P "remotes/origin|remotes/upstream|^..(?!remotes/)" \
    | GREP_COLOR="00;37" egrep --color=always -e "\[[^]]+\]|$" \
    | GREP_COLOR="01;30" egrep --color=always -e " [a-f0-9]{8} |$" \
    | GREP_COLOR="01;35" egrep --color=always -e "^. [^[:space:]]*|$" \
    | GREP_COLOR="01;33" egrep --color=always -e "[[:space:]]+feature/([^] :])*|$" \
    | GREP_COLOR="01;32" egrep --color=always -e "[[:space:]]+wip/([^] :])*|$" \
    | GREP_COLOR="01;37;46" egrep --color=always -e "remotes/origin/([^] :])*|$" \
    | GREP_COLOR="01;30;47" egrep --color=always -e "remotes/upstream/([^] :])*|$" \
    | GREP_COLOR="01;36" egrep --color=always -e "[[:space:]]+develop|[[:space:]]+master|$"
}

main () {
  git-brs
}

main "$@"

